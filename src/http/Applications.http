### Variables
@baseUrl = http://localhost:5000/api
@adminToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjFmYmIzY2U1LTVkMmItNGUwNS04YmMyLTUyZGY1YmEzZmFkZCIsInN0dWRlbnRSZWdObyI6IlNDL0NPTS8wMDA4LzIyIiwiZnVsbE5hbWUiOiJTQy9DT00vMDAwOC8yMiIsInJvbGUiOiJhZG1pbiIsInllYXJPZlN0dWR5IjoiMSIsImlhdCI6MTc3MTE0MTIxNSwiZXhwIjoxNzcxMjI3NjE1fQ.NZB0KlF1H5oifBwBIwBz7gSbDT9YS0R-mndYP-sXy8o
@studentToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzM2JiY2QwLTc4NTktNDZlOC1hYTVlLTJkNWVlMDY5MmYzZCIsInN0dWRlbnRSZWdObyI6IlNDL0NPTS8wMDA3LzI1IiwiZnVsbE5hbWUiOiJTQy9DT00vMDAwNy8yNSIsInJvbGUiOiJtZW1iZXIiLCJ5ZWFyT2ZTdHVkeSI6IjEiLCJpYXQiOjE3NzExNDE2NDgsImV4cCI6MTc3MTIyODA0OH0.E-yhk-CrxXbeTAHnjkjVFpRd1BE6d45Juf2QYZWBvIk
@electionId = d2892e77-12df-45fd-b2f2-af71b93da55c
@positionId = 3ba4f1ab-c34f-4637-94d4-8af16dd4466c
@targetAppId = d33ff7e0-7f56-4a35-a781-a3080c611a5a

### --------------------------------------------------------------
### 1. CLUB MEMBER: SUBMIT LEADERSHIP BID
### --------------------------------------------------------------

### Submit Club Application
# Note: 'requiredPoints' now refers to Club Attendance/Participation points
### Submit Club Application
POST {{baseUrl}}/candidate-applications/
Content-Type: application/json
Authorization: Bearer {{studentToken}}

{
  "userId": "633bbcd0-7859-46e8-aa5e-2d5ee0692f3d", 
  "electionId": "{{electionId}}",
  "positionId": "{{positionId}}",
  "statementOfIntent": "As a dedicated member of this club for 3 years, I intend to bridge the gap between junior and senior members.",
  "manifesto": "I plan to organize monthly hackathons, secure industry sponsorships for our annual projects, and launch a club mentorship program to help new members integrate faster into our technical community.",
  "imageUrl": "https://imgur.com/club-leader-profile.jpg",
  "requiredPoints": 0
}

### Refine Leadership Statement (Self)
# Only works if the Club Patron hasn't started the review ('pending')
PATCH {{baseUrl}}/candidate-applications/{{targetAppId}}
Content-Type: application/json
Authorization: Bearer {{studentToken}}

{
  "statementOfIntent": "REVISED: I intend to prioritize practical workshops and regional club collaborations."
}

### --------------------------------------------------------------
### 2. CLUB PATRON / COMMITTEE: SCRUTINY
### --------------------------------------------------------------

### List All Candidates for this Club Election
# Used by the Patron to see the field of candidates
GET {{baseUrl}}/candidate-applications/election/{{electionId}}
Authorization: Bearer {{adminToken}}

### View Candidate Full Bio & History
# Check participation points and previous club involvement
GET {{baseUrl}}/candidate-applications/{{targetAppId}}
Authorization: Bearer {{adminToken}}

### Approve/Reject Club Candidate
# Statuses: 'under_review' (checking disciplinary record), 'approved', 'rejected'
PATCH {{baseUrl}}/candidate-applications/{{targetAppId}}/review
Content-Type: application/json
Authorization: Bearer {{adminToken}}

{
  "status": "approved",
  "adminRemarks": "Member has consistent attendance and has led 2 successful club projects. Approved for Chairmanship race."
}

### --------------------------------------------------------------
### 3. WITHDRAWAL & DISQUALIFICATION
### --------------------------------------------------------------

### Withdraw Candidacy (Student)
# Student withdraws bid due to academic pressure or personal reasons
DELETE {{baseUrl}}/candidate-applications/{{targetAppId}}/withdraw
Authorization: Bearer {{studentToken}}

### Disqualify Candidate (Admin Only)
# Admin removes candidate for breach of club constitution
DELETE {{baseUrl}}/candidate-applications/{{targetAppId}}
Authorization: Bearer {{adminToken}}